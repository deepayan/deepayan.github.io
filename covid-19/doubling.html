<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="Deepayan Sarkar" />
  <title>Doubling times of COVID-19 cases</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  
  <link rel="stylesheet"
        href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh"
        crossorigin="anonymous">
  
  <style>
    h1.title { text-align: center; }
    p.author { text-align: center; }
    img { display: block; margin-left: auto; margin-right: auto; width: 100%; }
    pre { border: none; font-weight: bold; font-size: 110%; background: #f9f9f9; }
    pre.sourceCode
    {
        border-left: 2px solid red;
        padding: 0.5em;
        font-weight: normal;
        font-size: 95%;
        background: #dddddd;
    }
    table code
    {
        color: black;
        background-color: transparent;
        font-weight: bold;
        font-size: 110%;
    }
  </style>
</head>
<body>
    
<div id="page-content">
<section>
<div class="container-sm">
<header>
<h1 class="title">Doubling times of COVID-19 cases</h1>
<p class="author">Deepayan Sarkar</p>
</header>
<p>Is “social distancing” working in your country? How is it doing compared to other countries? How long will it take for the number of cases to reach 50,000? Or 100,000?</p>
<p>This is an attempt to summarize how successfully various countries / regions are containing the spread COVID-19, based on a very simple summary statistic: how long it is taking to double the number of cases, and how this “doubling time” changes over time.</p>
<p>The analysis is based on the official number of <em>confirmed</em> cases, based on data provided by <a href="https://github.com/CSSEGISandData/COVID-19/tree/master/csse_covid_19_data/csse_covid_19_time_series">JHU CSSE</a> on Github. Not all countries are testing equally aggressively (e.g., India), so these numbers may not reflect the actual number of cases. In the long run though, that does not matter as long as the <em>proportion</em> of true cases being detected remains more or less stable.</p>
<p>Here is the <a href="doubling.rmd">source</a> of this analysis, in case you want to experiment with it.</p>
<h2 id="preparatory-steps">Preparatory steps</h2>
<p>First, download the data if not done already (to download the latest version, delete the file and run again):</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1">TARGET &lt;-<span class="st"> &quot;time_series_19-covid-Confirmed.csv&quot;</span></a>
<a class="sourceLine" id="cb1-2" title="2"><span class="cf">if</span> (<span class="op">!</span><span class="kw">file.exists</span>(TARGET))</a>
<a class="sourceLine" id="cb1-3" title="3">    <span class="kw">download.file</span>(<span class="st">&quot;https://github.com/CSSEGISandData/COVID-19/raw/master/csse_covid_19_data/csse_covid_19_time_series/time_series_19-covid-Confirmed.csv&quot;</span>,</a>
<a class="sourceLine" id="cb1-4" title="4">                  <span class="dt">destfile =</span> TARGET)</a></code></pre></div>
<p>This version was last updated using data downloaded on 2020-03-22.</p>
<p>Next, read in data:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1">covid &lt;-<span class="st"> </span><span class="kw">read.csv</span>(TARGET, <span class="dt">check.names =</span> <span class="ot">FALSE</span>,</a>
<a class="sourceLine" id="cb2-2" title="2">                  <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)</a></code></pre></div>
<p>Many of the high numbers are provinces in China, where spread is now more or less controlled. We consider them separately. Data for the US is also available separately by state, and we consider them separately as well. We exclude cases on cruise ships, which represent small populations.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1">covid.china &lt;-<span class="st"> </span><span class="kw">subset</span>(covid, <span class="st">`</span><span class="dt">Country/Region</span><span class="st">`</span> <span class="op">==</span><span class="st"> &quot;China&quot;</span>)</a>
<a class="sourceLine" id="cb3-2" title="2">covid.usa &lt;-<span class="st"> </span><span class="kw">subset</span>(covid, <span class="st">`</span><span class="dt">Country/Region</span><span class="st">`</span> <span class="op">==</span><span class="st"> &quot;US&quot;</span>)</a>
<a class="sourceLine" id="cb3-3" title="3">covid.row &lt;-<span class="st"> </span><span class="kw">subset</span>(covid, <span class="op">!</span>(<span class="st">`</span><span class="dt">Country/Region</span><span class="st">`</span> <span class="op">%in%</span></a>
<a class="sourceLine" id="cb3-4" title="4"><span class="st">                             </span><span class="kw">c</span>(<span class="st">&quot;China&quot;</span>, <span class="st">&quot;US&quot;</span>, <span class="st">&quot;Cruise Ship&quot;</span>)))</a></code></pre></div>
<p>Next, we extract the time series data of each subset as a data matrix, with a crude “smoothing” to account for lags in updating data: If two consecutive days have the same total count followed by a large increase on the following day, then the most likely explanation is that data was not updated on the second day. In such cases, the count of the middle day is replaced by the geometric mean of its neighbours.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1">correctLag &lt;-<span class="st"> </span><span class="cf">function</span>(x)</a>
<a class="sourceLine" id="cb4-2" title="2">{</a>
<a class="sourceLine" id="cb4-3" title="3">    n &lt;-<span class="st"> </span><span class="kw">length</span>(x)</a>
<a class="sourceLine" id="cb4-4" title="4">    <span class="kw">stopifnot</span>(n <span class="op">&gt;</span><span class="st"> </span><span class="dv">2</span>)</a>
<a class="sourceLine" id="cb4-5" title="5">    <span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">seq</span>(<span class="dv">2</span>, n<span class="dv">-1</span>))</a>
<a class="sourceLine" id="cb4-6" title="6">        <span class="cf">if</span> (x[i] <span class="op">==</span><span class="st"> </span>x[i<span class="dv">-1</span>])</a>
<a class="sourceLine" id="cb4-7" title="7">            x[i] &lt;-<span class="st"> </span><span class="kw">sqrt</span>(x[i<span class="dv">-1</span>] <span class="op">*</span><span class="st"> </span>x[i<span class="op">+</span><span class="dv">1</span>])</a>
<a class="sourceLine" id="cb4-8" title="8">    x</a>
<a class="sourceLine" id="cb4-9" title="9">}</a>
<a class="sourceLine" id="cb4-10" title="10">extractCasesTS &lt;-<span class="st"> </span><span class="cf">function</span>(d)</a>
<a class="sourceLine" id="cb4-11" title="11">{</a>
<a class="sourceLine" id="cb4-12" title="12">    x &lt;-<span class="st"> </span><span class="kw">t</span>(<span class="kw">data.matrix</span>(d[, <span class="op">-</span><span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>)]))</a>
<a class="sourceLine" id="cb4-13" title="13">    <span class="kw">colnames</span>(x) &lt;-</a>
<a class="sourceLine" id="cb4-14" title="14"><span class="st">        </span><span class="kw">with</span>(d, <span class="kw">ifelse</span>(<span class="st">`</span><span class="dt">Province/State</span><span class="st">`</span> <span class="op">==</span><span class="st"> &quot;&quot;</span>,</a>
<a class="sourceLine" id="cb4-15" title="15">                       <span class="st">`</span><span class="dt">Country/Region</span><span class="st">`</span>,</a>
<a class="sourceLine" id="cb4-16" title="16">                       <span class="kw">paste</span>(<span class="st">`</span><span class="dt">Country/Region</span><span class="st">`</span>, <span class="st">`</span><span class="dt">Province/State</span><span class="st">`</span>,</a>
<a class="sourceLine" id="cb4-17" title="17">                             <span class="dt">sep =</span> <span class="st">&quot;/&quot;</span>)))</a>
<a class="sourceLine" id="cb4-18" title="18">    <span class="co">## Update labels to include current total cases</span></a>
<a class="sourceLine" id="cb4-19" title="19">    <span class="kw">colnames</span>(x) &lt;-<span class="st">  </span><span class="kw">sprintf</span>(<span class="st">&quot;%s (%g)&quot;</span>, <span class="kw">colnames</span>(x), x[<span class="kw">nrow</span>(x), ])</a>
<a class="sourceLine" id="cb4-20" title="20">    <span class="kw">apply</span>(x, <span class="dv">2</span>, correctLag)</a>
<a class="sourceLine" id="cb4-21" title="21">}</a>
<a class="sourceLine" id="cb4-22" title="22">xcovid.china &lt;-<span class="st"> </span><span class="kw">extractCasesTS</span>(covid.china)</a>
<a class="sourceLine" id="cb4-23" title="23">xcovid.usa &lt;-<span class="st"> </span><span class="kw">extractCasesTS</span>(covid.usa)</a>
<a class="sourceLine" id="cb4-24" title="24">xcovid.row &lt;-<span class="st"> </span><span class="kw">extractCasesTS</span>(covid.row)</a></code></pre></div>
<p>Outside the US and China, which countries are the worst affected in terms of the latest absolute numbers so far?</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" title="1">total.row &lt;-<span class="st"> </span><span class="kw">sort</span>(<span class="kw">apply</span>(xcovid.row, <span class="dv">2</span>, tail, <span class="dv">1</span>))</a>
<a class="sourceLine" id="cb5-2" title="2"><span class="kw">dotplot</span>(total.row[ total.row <span class="op">&gt;</span><span class="st"> </span><span class="dv">199</span> ],</a>
<a class="sourceLine" id="cb5-3" title="3">        <span class="dt">xlab =</span> <span class="st">&quot;Total cases (NOTE: log scale)&quot;</span>,</a>
<a class="sourceLine" id="cb5-4" title="4">        <span class="dt">scales =</span> <span class="kw">list</span>(<span class="dt">x =</span> <span class="kw">list</span>(<span class="dt">alternating =</span> <span class="dv">3</span>, <span class="dt">log =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb5-5" title="5">                               <span class="dt">equispaced.log =</span> <span class="ot">FALSE</span>)))</a></code></pre></div>
<p><img src="figures/doubling-unnamed-chunk-5-1.png" alt="plot of chunk unnamed-chunk-5" /><br />
</p>
<p>Unfortunately, the latest numbers don’t tell the whole story. Different countries are at different stages of the pandemic, and just because the numbers are low <em>now</em> does not mean they will remain low. We should be more concerned about what is <em>going</em> to happen, and that depends on what measures various countries / regions are taking. How can we compare countries at various stages of spread in terms of something that is actually comparable?</p>
<h2 id="the-doubling-time">The doubling time</h2>
<p>It is not unreasonable to assume that without any preventive measures, the number of infections will grow exponentially in the early phases, when most of the population is uninfected. So estimating a growth rate assuming exponential growth may sound reasonable. Fortunately, most countries are taking preventive steps, so this estimate needs to be updated with time. We look at a very simple measure: at any given time, how many days ago was the number of cases half of the current count? We call this the <em>doubling time</em>.</p>
<p>This doubling time is a crude estimate of the <em>current</em> rate of spread of the virus. It is comparable across time as well as countries at different stages of spread, and additionally, it is not affected by the proportion of true cases that are being identified, as long as this proportion does not change substantially. For uncontrolled exponential growth, we expect the doubling time to remain constant. If measures are being effective, we should see the doubling time increasing.</p>
<p>To estimate the doubling times, we use <code>approxfun()</code> to do linear interpolation with day as function of number, and then use it to evaluate the “day” at which the number was half of the current count. To see how the doubling time has evolved over time, we compute the doubling time using data upto a given timepoint, but only starting from days when the total count has exceeded 50, so that the estimates are not meaningless.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" title="1">tdouble &lt;-<span class="st"> </span><span class="cf">function</span>(n, x, <span class="dt">min =</span> <span class="dv">50</span>)</a>
<a class="sourceLine" id="cb6-2" title="2">{</a>
<a class="sourceLine" id="cb6-3" title="3">    <span class="cf">if</span> (x[n] <span class="op">&lt;</span><span class="st"> </span>min) <span class="kw">return</span> (<span class="ot">NA_real_</span>)</a>
<a class="sourceLine" id="cb6-4" title="4">    x &lt;-<span class="st"> </span><span class="kw">head</span>(x, n)</a>
<a class="sourceLine" id="cb6-5" title="5">    x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">0</span>, x[x <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span>])</a>
<a class="sourceLine" id="cb6-6" title="6">    i &lt;-<span class="st"> </span><span class="kw">seq_along</span>(x)</a>
<a class="sourceLine" id="cb6-7" title="7">    f &lt;-<span class="st"> </span><span class="kw">approxfun</span>(x, i)</a>
<a class="sourceLine" id="cb6-8" title="8">    <span class="kw">diff</span>(<span class="kw">f</span>(<span class="kw">max</span>(x) <span class="op">*</span><span class="st"> </span><span class="kw">c</span>(<span class="fl">0.5</span>, <span class="dv">1</span>)))</a>
<a class="sourceLine" id="cb6-9" title="9">}</a>
<a class="sourceLine" id="cb6-10" title="10">doubling.ts &lt;-<span class="st"> </span><span class="cf">function</span>(region, d, <span class="dt">min =</span> <span class="dv">50</span>)</a>
<a class="sourceLine" id="cb6-11" title="11">{</a>
<a class="sourceLine" id="cb6-12" title="12">    t &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="kw">as.Date</span>(<span class="st">&quot;2020-01-22&quot;</span>), <span class="dt">by =</span> <span class="dv">1</span>, <span class="dt">length.out =</span> <span class="kw">nrow</span>(d))</a>
<a class="sourceLine" id="cb6-13" title="13">    td &lt;-<span class="st"> </span><span class="kw">sapply</span>(<span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(d), tdouble,</a>
<a class="sourceLine" id="cb6-14" title="14">                 <span class="dt">x =</span> d[, region, <span class="dt">drop =</span> <span class="ot">TRUE</span>], <span class="dt">min =</span> min)</a>
<a class="sourceLine" id="cb6-15" title="15">    <span class="kw">data.frame</span>(<span class="dt">region =</span> region, <span class="dt">date =</span> t, <span class="dt">tdouble =</span> td)</a>
<a class="sourceLine" id="cb6-16" title="16">}</a></code></pre></div>
<h2 id="the-situation-in-china">The situation in China</h2>
<p>Let’s do this first for the provinces of China that had at least 200 cases, and plot the evolution of doubling time over time. Instead of ordering the provinces by total number of cases, we order them by the number of days since the total count first exceeded 50. The dotted line at January 23 indicates the date of the initial lockdown of Wuhan, with more lockdowns following very soon. Although initially it was taking less that five days for the number of cases to double, the doubling time has systematically increased after the lockdown (possibly with a lag of around 10 days).</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" title="1">regions &lt;-<span class="st"> </span><span class="co"># at least 200 cases</span></a>
<a class="sourceLine" id="cb7-2" title="2"><span class="st">    </span><span class="kw">names</span>(<span class="kw">which</span>(<span class="kw">apply</span>(xcovid.china, <span class="dv">2</span>, tail, <span class="dv">1</span>) <span class="op">&gt;</span><span class="st"> </span><span class="dv">199</span>)) </a>
<a class="sourceLine" id="cb7-3" title="3">devolution &lt;-</a>
<a class="sourceLine" id="cb7-4" title="4"><span class="st">    </span><span class="kw">droplevels</span>(<span class="kw">na.omit</span>(<span class="kw">do.call</span>(rbind,</a>
<a class="sourceLine" id="cb7-5" title="5">                               <span class="kw">lapply</span>(regions, doubling.ts,</a>
<a class="sourceLine" id="cb7-6" title="6">                                      <span class="dt">d =</span> xcovid.china, <span class="dt">min =</span> <span class="dv">50</span>))))</a>
<a class="sourceLine" id="cb7-7" title="7"><span class="kw">xyplot</span>(tdouble <span class="op">~</span><span class="st"> </span>date <span class="op">|</span><span class="st"> </span><span class="kw">reorder</span>(region, tdouble, <span class="cf">function</span>(x) <span class="op">-</span><span class="kw">length</span>(x)),</a>
<a class="sourceLine" id="cb7-8" title="8">       <span class="dt">data =</span> devolution, <span class="dt">type =</span> <span class="st">&quot;o&quot;</span>, <span class="dt">pch =</span> <span class="dv">16</span>, <span class="dt">grid =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb7-9" title="9">       <span class="dt">as.table =</span> <span class="ot">TRUE</span>, <span class="dt">between =</span> <span class="kw">list</span>(<span class="dt">x =</span> <span class="fl">0.5</span>, <span class="dt">y =</span> <span class="fl">0.5</span>),</a>
<a class="sourceLine" id="cb7-10" title="10">       <span class="dt">abline =</span> <span class="kw">list</span>(<span class="dt">v =</span> <span class="kw">as.Date</span>(<span class="st">&quot;2020-01-23&quot;</span>),</a>
<a class="sourceLine" id="cb7-11" title="11">                     <span class="dt">col =</span> <span class="st">&quot;grey50&quot;</span>, <span class="dt">lwd =</span> <span class="dv">2</span>, <span class="dt">lty =</span> <span class="dv">3</span>))</a></code></pre></div>
<p><img src="figures/doubling-unnamed-chunk-7-1.png" alt="plot of chunk unnamed-chunk-7" /><br />
</p>
<p>As of March 22, the doubling time in Hong Kong had stabilized (at around 20 days) for roughly two weeks before decreasing rapidly; this is likely due to already infected travelers returning, and is also happening in Singapore and Taiwan.</p>
<h2 id="the-situation-elsewhere">The situation elsewhere</h2>
<h3 id="countries-with-already-widespread-infections">Countries with already widespread infections</h3>
<p>Next, let’s look at similar plots for other countries (excluding USA) where the count is at least 1000. Again, the countries / regions are sorted by how long ago the number of cases first exceeded 50, and not by total cases.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" title="1">regions &lt;-<span class="st">  </span><span class="co"># at least 1000 cases</span></a>
<a class="sourceLine" id="cb8-2" title="2"><span class="st">    </span><span class="kw">names</span>(<span class="kw">which</span>(<span class="kw">apply</span>(xcovid.row, <span class="dv">2</span>, tail, <span class="dv">1</span>) <span class="op">&gt;</span><span class="st"> </span><span class="dv">999</span>))</a>
<a class="sourceLine" id="cb8-3" title="3">devolution &lt;-</a>
<a class="sourceLine" id="cb8-4" title="4"><span class="st">    </span><span class="kw">droplevels</span>(<span class="kw">na.omit</span>(<span class="kw">do.call</span>(rbind, <span class="kw">lapply</span>(regions, doubling.ts,</a>
<a class="sourceLine" id="cb8-5" title="5">                                             <span class="dt">d =</span> xcovid.row, <span class="dt">min =</span> <span class="dv">50</span>))))</a>
<a class="sourceLine" id="cb8-6" title="6"><span class="kw">xyplot</span>(tdouble <span class="op">~</span><span class="st"> </span>date <span class="op">|</span><span class="st"> </span><span class="kw">reorder</span>(region, tdouble, <span class="cf">function</span>(x) <span class="op">-</span><span class="kw">length</span>(x)),</a>
<a class="sourceLine" id="cb8-7" title="7">       <span class="dt">data =</span> devolution, <span class="dt">type =</span> <span class="st">&quot;o&quot;</span>, <span class="dt">pch =</span> <span class="dv">16</span>, <span class="dt">grid =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb8-8" title="8">       <span class="dt">as.table =</span> <span class="ot">TRUE</span>, <span class="dt">between =</span> <span class="kw">list</span>(<span class="dt">x =</span> <span class="fl">0.5</span>, <span class="dt">y =</span> <span class="fl">0.5</span>))</a></code></pre></div>
<p><img src="figures/doubling-unnamed-chunk-8-1.png" alt="plot of chunk unnamed-chunk-8" /><br />
</p>
<p>Unfortunately, most of these countries do not show systematic increase in the doubling time, which in most cases hovers around a value less than five days. This indicates uncontrolled exponential growth; at the current rates (as on March 21), for example,</p>
<ul>
<li><p>Germany will reach 50,000 cases by March 25</p></li>
<li><p>Spain will reach 50,000 cases by March 27</p></li>
<li><p>France will reach 50,000 cases by March 31</p></li>
<li><p>UK will reach 50,000 cases between March 31 and April 8</p></li>
<li><p>Austria (currently less than 2500) may reach 50,000 cases by April 10</p></li>
<li><p>Portugal (currently around 1000) may actually reach 50,000 cases sooner</p></li>
</ul>
<p>The countries that seem to be doing well are Denmark, Sweden, and Norway, and to a lesser extent Iran and even Italy.</p>
<h3 id="countries-with-less-widespread-infections">Countries with less widespread infections</h3>
<p>Next, we look at countries (excluding USA) where the count is at least 100 but less than 1000.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" title="1">total.row &lt;-<span class="st"> </span><span class="kw">apply</span>(xcovid.row, <span class="dv">2</span>, tail, <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb9-2" title="2">regions &lt;-<span class="st">  </span><span class="co"># between 100 and 1000 cases</span></a>
<a class="sourceLine" id="cb9-3" title="3"><span class="st">    </span><span class="kw">names</span>(<span class="kw">which</span>(total.row <span class="op">&gt;</span><span class="st"> </span><span class="dv">99</span> <span class="op">&amp;</span><span class="st"> </span>total.row <span class="op">&lt;</span><span class="st"> </span><span class="dv">1000</span>))</a>
<a class="sourceLine" id="cb9-4" title="4">devolution &lt;-</a>
<a class="sourceLine" id="cb9-5" title="5"><span class="st">    </span><span class="kw">droplevels</span>(<span class="kw">na.omit</span>(<span class="kw">do.call</span>(rbind, <span class="kw">lapply</span>(regions, doubling.ts,</a>
<a class="sourceLine" id="cb9-6" title="6">                                             <span class="dt">d =</span> xcovid.row, <span class="dt">min =</span> <span class="dv">50</span>))))</a>
<a class="sourceLine" id="cb9-7" title="7"><span class="kw">xyplot</span>(tdouble <span class="op">~</span><span class="st"> </span>date <span class="op">|</span><span class="st"> </span><span class="kw">reorder</span>(region, tdouble, <span class="cf">function</span>(x) <span class="op">-</span><span class="kw">length</span>(x)),</a>
<a class="sourceLine" id="cb9-8" title="8">       <span class="dt">data =</span> devolution, <span class="dt">type =</span> <span class="st">&quot;o&quot;</span>, <span class="dt">pch =</span> <span class="dv">16</span>, <span class="dt">grid =</span> <span class="ot">TRUE</span>, <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="ot">NA</span>, <span class="dv">20</span>),</a>
<a class="sourceLine" id="cb9-9" title="9">       <span class="dt">layout =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">20</span>), <span class="dt">as.table =</span> <span class="ot">TRUE</span>, <span class="dt">between =</span> <span class="kw">list</span>(<span class="dt">x =</span> <span class="fl">0.5</span>, <span class="dt">y =</span> <span class="fl">0.5</span>),</a>
<a class="sourceLine" id="cb9-10" title="10">       <span class="dt">abline =</span> <span class="kw">list</span>(<span class="dt">v =</span> <span class="kw">as.Date</span>(<span class="st">&quot;2020-01-23&quot;</span>), <span class="dt">col =</span> <span class="st">&quot;grey50&quot;</span>, <span class="dt">lwd =</span> <span class="dv">2</span>, <span class="dt">lty =</span> <span class="dv">3</span>))</a></code></pre></div>
<p><img src="figures/doubling-unnamed-chunk-9-1.png" alt="plot of chunk unnamed-chunk-9" /><img src="figures/doubling-unnamed-chunk-9-2.png" alt="plot of chunk unnamed-chunk-9" /><img src="figures/doubling-unnamed-chunk-9-3.png" alt="plot of chunk unnamed-chunk-9" /><br />
</p>
<p>It is too early to say how things will go for these countries, as the effect of social distancing measures will not be reflected before a couple of weeks.</p>
<h3 id="usa">USA</h3>
<p>Finally, we look US states where the count is at least 100.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" title="1">total.usa &lt;-<span class="st"> </span><span class="kw">apply</span>(xcovid.usa, <span class="dv">2</span>, tail, <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb10-2" title="2">regions &lt;-<span class="st"> </span><span class="kw">names</span>(<span class="kw">which</span>(total.usa <span class="op">&gt;</span><span class="st"> </span><span class="dv">99</span>))</a>
<a class="sourceLine" id="cb10-3" title="3">devolution &lt;-</a>
<a class="sourceLine" id="cb10-4" title="4"><span class="st">    </span><span class="kw">droplevels</span>(<span class="kw">na.omit</span>(<span class="kw">do.call</span>(rbind, <span class="kw">lapply</span>(regions, doubling.ts,</a>
<a class="sourceLine" id="cb10-5" title="5">                                             <span class="dt">d =</span> xcovid.usa, <span class="dt">min =</span> <span class="dv">50</span>))))</a>
<a class="sourceLine" id="cb10-6" title="6"><span class="kw">xyplot</span>(tdouble <span class="op">~</span><span class="st"> </span>date <span class="op">|</span><span class="st"> </span><span class="kw">reorder</span>(region, tdouble, <span class="cf">function</span>(x) <span class="op">-</span><span class="kw">length</span>(x)),</a>
<a class="sourceLine" id="cb10-7" title="7">       <span class="dt">data =</span> devolution, <span class="dt">type =</span> <span class="st">&quot;o&quot;</span>, <span class="dt">pch =</span> <span class="dv">16</span>, <span class="dt">grid =</span> <span class="ot">TRUE</span>, <span class="co">## ylim = c(NA, 20),</span></a>
<a class="sourceLine" id="cb10-8" title="8">       <span class="dt">as.table =</span> <span class="ot">TRUE</span>, <span class="dt">between =</span> <span class="kw">list</span>(<span class="dt">x =</span> <span class="fl">0.5</span>, <span class="dt">y =</span> <span class="fl">0.5</span>),</a>
<a class="sourceLine" id="cb10-9" title="9">       <span class="dt">abline =</span> <span class="kw">list</span>(<span class="dt">v =</span> <span class="kw">as.Date</span>(<span class="st">&quot;2020-01-23&quot;</span>), <span class="dt">col =</span> <span class="st">&quot;grey50&quot;</span>, <span class="dt">lwd =</span> <span class="dv">2</span>, <span class="dt">lty =</span> <span class="dv">3</span>))</a></code></pre></div>
<p><img src="figures/doubling-unnamed-chunk-10-1.png" alt="plot of chunk unnamed-chunk-10" /><br />
</p>
<p>Again, it is too early to say much. The initial steep climb is probably due to delay in starting to test, but generally things don’t look good, with the doubling time at around 5 days or less everywhere as of now.</p>
    
<div id="page-content">
<section>
<div class="container-sm">
</body>
</html>
